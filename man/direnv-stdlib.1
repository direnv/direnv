.\" generated with Ronn/v0.7.3
.\" http://github.com/rtomayko/ronn/tree/0.7.3
.
.TH "DIRENV\-STDLIB" "1" "January 2014" "" "direnv"
.
.SH "NAME"
\fBdirenv\-stdlib\fR \- the "\.envrc" stdlib
.
.SH "SYNOPSIS"
\fBdirenv stdlib\fR
.
.SH "DESCRIPTION"
Outputs a bash script called the \fIstdlib\fR\. The following commands are included in that script and loaded in the context of an "\.envrc"\. Additionnaly to that, it also loads the file in "~/\.direnvrc" if it exists\.
.
.SH "STDLIB"
.
.TP
\fBhas\fR \fIcommand\fR
Returns 0 if the \fIcommand\fR is available\. Returns 1 otherwise\. It can be a binary in the PATH or a shell function\.
.
.P
Example:
.
.IP "" 4
.
.nf

if has curl; then
  echo "Yes we do"
fi
.
.fi
.
.IP "" 0
.
.TP
\fBexpand_path\fR \fIrel_path\fR [\fIrelative_to\fR]
Outputs the absolute path of \fIrel_path\fR relaitve to \fIrelative_to\fR or the current directory\.
.
.P
Example:
.
.IP "" 4
.
.nf

cd /usr/local/games
expand_path \.\./foo
# output: /usr/local/foo
.
.fi
.
.IP "" 0
.
.TP
\fBdotenv\fR [\fIdotenv_path\fR]
Loads a "\.env" file into the current environment
.
.TP
\fBuser_rel_path\fR \fIabs_path\fR
Transforms an absolute path \fIabs_path\fR into a user\-relative path if possible\.
.
.P
Example:
.
.IP "" 4
.
.nf

echo $HOME
# output: /home/user
user_rel_path /home/user/my/project
# output: ~/my/project
user_rel_path /usr/local/lib
# output: /usr/local/lib
.
.fi
.
.IP "" 0
.
.TP
\fBfind_up\fR \fIfilename\fR
Outputs the path of \fIfilename\fR when searched from the current directory up to /\. Returns 1 if the file has not been found\.
.
.P
Example:
.
.IP "" 4
.
.nf

cd /usr/local/my
mkdir \-p project/foo
touch bar
cd project/foo
find_up bar
# output: /usr/local/my/bar
.
.fi
.
.IP "" 0
.
.IP "\(bu" 4
\fBsource_env\fR \fIfile_or_dir_path\fR: Loads another "\.envrc" either by specifying its path or filename\.
.
.IP "\(bu" 4
\fBsource_up\fR [\fIfilename\fR]: Loads another "\.envrc" if found with the \fBfind_up\fR command\.
.
.IP "\(bu" 4
\fBdirenv_load\fR [\fIcommand\-generating\-dump\-output\fR] Applies the environment generated by running \fIargv\fR as a command\. This is useful for adopting the environment of a child process \- cause that process to run "direnv dump" and then wrap the results with direnv_load\.
.
.IP "" 0
.
.P
Example:
.
.IP "" 4
.
.nf

direnv_load opam\-env exec \-\- direnv dump
.
.fi
.
.IP "" 0
.
.TP
\fBPATH_add\fR \fIpath\fR
Prepends the expanded \fIpath\fR to the PATH environment variable\. It prevents a common mistake where PATH is replaced by only the new \fIpath\fR\.
.
.P
Example:
.
.IP "" 4
.
.nf

pwd
# output: /home/user/my/project
PATH_add bin
echo $PATH
# output: /home/user/my/project/bin:/usr/bin:/bin
.
.fi
.
.IP "" 0
.
.TP
\fBpath_add\fR \fIvarname\fR \fIpath\fR
Works like \fBPATH_add\fR except that it\'s for an arbitrary \fIvarname\fR\.
.
.TP
\fBload_prefix\fR \fIprefix_path\fR
Expands some common path variables for the given \fIprefix_path\fR prefix\. This is useful if you installed something in the \fIprefix_path\fR using \fB\./configure \-\-prefix=<prefix_path> && make install\fR and want to use it in the project\.
.
.P
Variables set:
.
.IP "" 4
.
.nf

CPATH
LD_LIBRARY_PATH
LIBRARY_PATH
MANPATH
PATH
PKG_CONFIG_PATH
.
.fi
.
.IP "" 0
.
.P
Example:
.
.IP "" 4
.
.nf

\&\./configure \-\-prefix=$HOME/rubies/ruby\-1\.9\.3
make && make install
# Then in the \.envrc
load_prefix ~/rubies/ruby\-1\.9\.3
.
.fi
.
.IP "" 0
.
.TP
\fBlayout\fR \fItype\fR
A semantic dispatch used to describe common project layouts\.
.
.TP
\fBlayout ruby\fR
Sets the GEM_HOME environment variable to "$PWD/\.direnv/ruby/RUBY_VERSION"\. This forces the installation of any gems into the project\'s sub\-folder\. If you\'re using bundler it will create wrapper programs that can be invoked directly instead of using the \fBbundle exec\fR prefix\.
.
.TP
\fBlayout python\fR
Creates and loads a virtualenv environment under "$PWD/\.direnv/virtualenv"\. This forces the installation of any egg into the project\'s sub\-folder\.
.
.TP
\fBlayout node\fR
Adds "$PWD/node_modules/\.bin" to the PATH environment variable\.
.
.TP
\fBlayout go\fR
Sets the GOPATH environment variable to the current directory\.
.
.TP
\fBuse\fR \fIprogram_name\fR [\fIversion\fR]
A semantic command dispatch intended for loading external dependencies into the environment\.
.
.P
Example:
.
.IP "" 4
.
.nf

use_ruby() {
  echo "Ruby $1"
}
use ruby 1\.9\.3
# output: Ruby 1\.9\.3
.
.fi
.
.IP "" 0
.
.TP
\fBuse rbenv\fR
Loads rbenv which add the ruby wrappers available on the PATH\.
.
.TP
\fBrvm\fR [\.\.\.]
Should work just like in the shell if you have rvm installed\.
.
.SH "COPYRIGHT"
Copyright (C) 2013 zimbatm \fIhttp://zimbatm\.com\fR and contributors under the MIT licence\.
.
.SH "SEE ALSO"
direnv(1)
